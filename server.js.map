{"version":3,"file":"server.js","sourceRoot":"","sources":["server.ts"],"names":[],"mappings":"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"}